<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="X-UA-Compatible" content="IE=emulateIE7" />
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <link rel="stylesheet" type="text/css" href="../../css/style.css" />
  <link rel="stylesheet" type="text/css" href="../../css/WdatePicker.css" />
  <link rel="stylesheet" type="text/css" href="../../css/skin_/table.css" />
  <link rel="stylesheet" type="text/css" href="../../css/jquery.grid.css" />
    <title>申请审核</title>
</head>
<body>
<div id="container">
  <div id="hd"></div>
  <div id="bd">
    <div id="main">
      <div class="search-box ue-clear">
<div class="grid" style="width: 820px;"></div>
      </div>
    </div>
  </div>
</div>
</body>
<script type="text/javascript" src="../../js/jquery.js"></script>
<script type="text/javascript" src="../../js/global.js"></script>
<script type="text/javascript" src="../../js/jquery.select.js"></script>
<script type="text/javascript" src="../../js/core.js"></script>
<script type="text/javascript" src="../../js/jquery.grid.js"></script>
<script type="text/javascript" src="../../js/WdatePicker.js"></script>
<script type="text/javascript">

  var head = [{
    label:'公司',
    width: 150,
    name:'terName'
  },{
    label:'申请人',
    width:150,
    name:'insAccount'
  },{
    label: '申请时间',
    width: 250,
    name:'insTimestamp'
  }];
  var oper = [{label:'同意',onclick:function(){
    alert('删除');
  }},{label:'不同意',onclick: function(){
    alert('编辑')
  }}]

    $.ajax({
      url:"/login/getAllKey",
      type:"get",
      contentType: "application/json",
      success: function(data){
          console.log(data);
          console.log(data.length);
          var tbody=[];

          for(var i=0;data.length>i;i++){
            console.log(data[i].auth.company);
            var row=[data[i].auth.company,data[i].auth.name,data[i].auth.updTimeStamp,oper];
              tbody.add(row);
              console.log(tbody);
          }

//        var tbody = [
//          ["201301","admin","熊猫王子","江苏南京",oper],
//          ["201302","uimaker","小牛","山东济南",oper],
//          ["201301","admin","熊猫王子","江苏南京",oper]]

        $('.grid').Grid({
          thead: head,
          tbody: null,
          height:400,
          operator: {
            type : "normal",
            width : 150
          },
          sortCallBack : function(name,index,type){
            alert(name+","+index+','+type);
          }

        });

        $('.grid').Grid('addLoading');
        $('.grid').Grid('setData',tbody, head);
      }
    });


</script>
</html>
